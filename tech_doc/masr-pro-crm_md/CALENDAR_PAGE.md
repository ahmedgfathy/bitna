# ุตูุญุฉ ุงูุชูููู ูุงูุฃุญุฏุงุซ - Calendar Page

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ุตูุญุฉ ุงูุชูููู ุงููุงููุฉ ูุฅุฏุงุฑุฉ ุงูุฃุญุฏุงุซ ูุงูููุงุนูุฏ ูู ูุธุงู CRM ุงูุนูุงุฑู.

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. **ุนุฑุถ ุงูุชูููู ุงูุดูุฑู**
- ๐ ุชูููู ุดูุฑู ูุงูู ูุน ุฃูุงู ุงูุฃุณุจูุน ุจุงูุนุฑุจูุฉ
- ๐จ ุชูููุฒ ุงูููู ุงูุญุงูู ุจุญุฏูุฏ ุฒุฑูุงุก ูุฎูููุฉ ูููุฒุฉ
- ๐ ุนุฑุถ ุงูุฃุญุฏุงุซ ุนูู ูู ููู (ุญุชู 2 ุญุฏุซ)
- ๐ข ุนุฏุงุฏ "+X ุงููุฒูุฏ" ููุฃูุงู ุงูุชู ุชุญุชูู ุฃูุซุฑ ูู ุญุฏุซูู

### 2. **ุฅุญุตุงุฆูุงุช ุงูุฃุญุฏุงุซ**
ุฃุฑุจุน ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ:
- ๐ **ุฌููุน ุงูุฃุญุฏุงุซ**: ุนุฏุฏ ุงูุฃุญุฏุงุซ ุงูููู ููุดูุฑ ุงููุญุฏุฏ
- โฐ **ูุงุฏูุฉ**: ุงูุฃุญุฏุงุซ ุงูุชู ูู ุชูุชูู ุจุนุฏ
- โ **ููุชููุฉ**: ุงูุฃุญุฏุงุซ ุงูููุฌุฒุฉ
- ๐ **ูุฐุง ุงูุดูุฑ**: ุนุฏุฏ ุฃุญุฏุงุซ ุงูุดูุฑ ุงูุญุงูู

### 3. **ุงูุชููู ูุงูููุชุฑุฉ**
- โฌ๏ธโก๏ธ ุฃุฒุฑุงุฑ ุงูุชููู ุจูู ุงูุฃุดูุฑ
- ๐ ุฒุฑ "ุงูููู" ููุนูุฏุฉ ููุชุงุฑูุฎ ุงูุญุงูู
- ๐ **ููุชุฑ ุญุณุจ ุงูููุน**: ูุนุงููุฉุ ุงุฌุชูุงุนุ ููุงููุฉุ ูุชุงุจุนุฉุ ุฃุฎุฑู
- โ๏ธ **ููุชุฑ ุญุณุจ ุงูุญุงูุฉ**: ุฌููุน ุงูุฃุญุฏุงุซุ ูุงุฏูุฉุ ููุชููุฉ

### 4. **ุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ**
- ๐ ูุงุฆูุฉ ุจุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ (ุญุชู 6 ุฃุญุฏุงุซ)
- ๐จ ุจุทุงูุงุช ููููุฉ ุญุณุจ ููุน ุงูุญุฏุซ
- ๐ ุนุฑุถ ุงูุชุงุฑูุฎ ูุงูููุช ูุงููููุน
- ๐ฑ๏ธ ูุงุจูุฉ ููููุฑ ููุชุญ ุงูุชูุงุตูู

### 5. **ุฅุถุงูุฉ ุญุฏุซ ุฌุฏูุฏ**
ูููุฐุฌ ูุงูู ูุญุชูู ุนูู:
- โ๏ธ ุนููุงู ุงูุญุฏุซ (ูุทููุจ)
- ๐ท๏ธ ููุน ุงูุญุฏุซ (ูุนุงููุฉ/ุงุฌุชูุงุน/ููุงููุฉ/ูุชุงุจุนุฉ/ุฃุฎุฑู)
- ๐ ููุช ุงูุจุฏุงูุฉ ูุงูููุงูุฉ (datetime-local)
- ๐ ุงููููุน (ุงุฎุชูุงุฑู)
- ๐ ุงููุตู (ุงุฎุชูุงุฑู)
- โ ุงูุชุญูู: ููุช ุงูููุงูุฉ > ููุช ุงูุจุฏุงูุฉ

### 6. **ุชุนุฏูู ูุญุฐู ุงูุฃุญุฏุงุซ**
- โ๏ธ ุชุนุฏูู ุฌููุน ุชูุงุตูู ุงูุญุฏุซ
- โ ุชุจุฏูู ุญุงูุฉ ุงูุงูุชูุงู
- ๐๏ธ ุญุฐู ุงูุญุฏุซ ูุน ุชุฃููุฏ ุจุงูุนุฑุจูุฉ
- ๐ ุชุญุฏูุซ ุชููุงุฆู ููุจูุงูุงุช ุจุนุฏ ุงูุชุนุฏูู

### 7. **ูุธุงู ุงูุฅุดุนุงุฑุงุช** ๐
ูู Header ุงูุฑุฆูุณู:
- ๐ด ููุทุฉ ุญูุฑุงุก ูุชุญุฑูุฉ ุนูุฏ ูุฌูุฏ ุฃุญุฏุงุซ ูุงุฏูุฉ
- ๐ข Badge ูุนุฑุถ ุนุฏุฏ ุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ
- ๐ ูุงุฆูุฉ ููุณุฏูุฉ ููุฅุดุนุงุฑุงุช ุชุญุชูู ุนูู:
  - ุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ ุฎูุงู 7 ุฃูุงู
  - ููุช ูุณุจู (ุจุนุฏ ุณุงุนุฉุ ุบุฏุงูุ ุจุนุฏ 3 ุฃูุงู)
  - ุฃููููุงุช ูููุฒุฉ ููู ููุน ุญุฏุซ
  - ุงููููุน ุฅู ููุฌุฏ
- ๐ ุชุญุฏูุซ ุชููุงุฆู ูู 5 ุฏูุงุฆู
- ๐ฑ๏ธ ุงูููุฑ ุนูู ุฅุดุนุงุฑ ููููู ูุตูุญุฉ ุงูุชูููู

## ๐ ุงููููุงุช ุงูููุดุฃุฉ

### 1. `/src/pages/Calendar.tsx` (450+ ุณุทุฑ)
ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ููุชูููู:
```typescript
- State Management: events, filteredEvents, selectedDate, viewMode
- Fetch Functions: fetchEvents(), applyFilters()
- Calendar Logic: getDaysInMonth(), getEventsForDay()
- Navigation: goToPreviousMonth(), goToNextMonth(), goToToday()
- Formatters: formatTime(), formatDate(), formatEventTime()
```

### 2. `/src/components/calendar/AddEventDialog.tsx` (220 ุณุทุฑ)
ูุงูุฐุฉ ุฅุถุงูุฉ ุญุฏุซ ุฌุฏูุฏ:
```typescript
interface AddEventDialogProps {
  open: boolean;
  onClose: () => void;
  onSuccess: () => void;
  leadId?: string;        // ุฑุจุท ุจุนููู (ุงุฎุชูุงุฑู)
  propertyId?: string;    // ุฑุจุท ุจุนูุงุฑ (ุงุฎุชูุงุฑู)
}
```

### 3. `/src/components/calendar/EditEventDialog.tsx` (294 ุณุทุฑ)
ูุงูุฐุฉ ุชุนุฏูู ูุญุฐู ุงูุฃุญุฏุงุซ:
```typescript
interface EditEventDialogProps {
  event: Event;
  open: boolean;
  onClose: () => void;
  onSuccess: () => void;
}
```

### 4. `/src/components/layout/Header.tsx` (ูุญุฏูุซ)
ุฅุถุงูุฉ ูุธุงู ุงูุฅุดุนุงุฑุงุช:
```typescript
- upcomingEvents: Event[]
- notificationOpen: boolean
- fetchUpcomingEvents(): ูุฌูุจ ุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ ุฎูุงู 7 ุฃูุงู
- formatEventTime(): ุชูุณูู ุงูููุช ุงููุณุจู
- Popover: ูุงุฆูุฉ ุงูุฅุดุนุงุฑุงุช ุงูููุณุฏูุฉ
```

### 5. `/src/App.tsx` (ูุญุฏูุซ)
ุฅุถุงูุฉ ุงููุณุงุฑ `/calendar`

## ๐จ ุฃููุงุน ุงูุฃุญุฏุงุซ ูุฃููุงููุง

```typescript
const eventTypeLabels = {
  viewing: "ูุนุงููุฉ ุนูุงุฑ",    // ๐ ุฃุฒุฑู
  meeting: "ุงุฌุชูุงุน",         // ๐ค ุจููุณุฌู
  call: "ููุงููุฉ",            // ๐ ุฃุฎุถุฑ
  followup: "ูุชุงุจุนุฉ",        // ๐ ุจุฑุชูุงูู
  other: "ุฃุฎุฑู",             // ๐ ุฑูุงุฏู
};

const eventTypeColors = {
  viewing: "bg-blue-100 text-blue-800",
  meeting: "bg-purple-100 text-purple-800",
  call: "bg-green-100 text-green-800",
  followup: "bg-orange-100 text-orange-800",
  other: "bg-gray-100 text-gray-800",
};
```

## ๐ ุงูุฑุจุท ูุน ุงููุญุฏุงุช ุงูุฃุฎุฑู

### ูู ุตูุญุฉ Leads:
```typescript
// ูู LeadDetails.tsx - ุชุจููุจ ุงูุฃุญุฏุงุซ
<AddEventDialog 
  leadId={lead.id}      // ุฑุจุท ุงูุญุฏุซ ุจุงูุนููู
  onSuccess={fetchLeadData} 
/>
```

### ูู ุตูุญุฉ Properties (ูุณุชูุจูุงู):
```typescript
<AddEventDialog 
  propertyId={property.id}  // ุฑุจุท ุงูุญุฏุซ ุจุงูุนูุงุฑ
  onSuccess={fetchPropertyData} 
/>
```

## ๐ ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
CREATE TABLE public.events (
  id UUID PRIMARY KEY,
  title TEXT NOT NULL,
  event_type event_type NOT NULL,
  description TEXT,
  start_time TIMESTAMP NOT NULL,
  end_time TIMESTAMP NOT NULL,
  location TEXT,
  related_lead_id UUID REFERENCES leads(id),
  related_property_id UUID REFERENCES properties(id),
  assigned_to UUID REFERENCES auth.users(id),
  created_by UUID REFERENCES auth.users(id) NOT NULL,
  completed BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT now()
);
```

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงููุตูู ููุตูุญุฉ:
```
http://localhost:8080/calendar
```

### 2. ุฅุถุงูุฉ ุญุฏุซ:
1. ุงุถุบุท "ุฅุถุงูุฉ ุญุฏุซ ุฌุฏูุฏ"
2. ุงููุฃ ุนููุงู ุงูุญุฏุซ (ูุทููุจ)
3. ุงุฎุชุฑ ููุน ุงูุญุฏุซ
4. ุญุฏุฏ ููุช ุงูุจุฏุงูุฉ ูุงูููุงูุฉ
5. ุฃุถู ุงููููุน ูุงููุตู (ุงุฎุชูุงุฑู)
6. ุงุถุบุท "ุฅุถุงูุฉ ุงูุญุฏุซ"

### 3. ุนุฑุถ ุงูุฃุญุฏุงุซ:
- ูู ุงูุชูููู: ุงููุฑ ุนูู ุฃู ุญุฏุซ ูู ุงูููู
- ูู ุงููุงุฆูุฉ: ุงููุฑ ุนูู ุจุทุงูุฉ ุงูุญุฏุซ
- ูู ุงูุฅุดุนุงุฑุงุช: ุงููุฑ ุนูู ุงูุฅุดุนุงุฑ

### 4. ุชุนุฏูู ุญุฏุซ:
1. ุงููุฑ ุนูู ุงูุญุฏุซ ููุชุญ ูุงูุฐุฉ ุงูุชุนุฏูู
2. ุนุฏูู ุงูุจูุงูุงุช ุงููุทููุจุฉ
3. ููููู ุชุญุฏูุฏู ูููุชูู
4. ุงุถุบุท "ุญูุธ ุงูุชุนุฏููุงุช"
5. ุฃู ุงุถุบุท "ุญุฐู ุงูุญุฏุซ" ููุญุฐู (ูุทูุจ ุชุฃููุฏ)

### 5. ุงูููุชุฑุฉ:
- **ุญุณุจ ุงูููุน**: ุงุฎุชุฑ ูุนุงููุฉ/ุงุฌุชูุงุน/ููุงููุฉ/ุฅูุฎ
- **ุญุณุจ ุงูุญุงูุฉ**: ุงุฎุชุฑ ูุงุฏูุฉ/ููุชููุฉ/ุงููู
- **ุญุณุจ ุงูุชุงุฑูุฎ**: ุงูุชูู ุจูู ุงูุฃุดูุฑ

### 6. ุงูุฅุดุนุงุฑุงุช:
- ุงููุฑ ุนูู ุฃููููุฉ ุงูุฌุฑุณ ๐ ูู Header
- ุดุงูุฏ ุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ ุฎูุงู 7 ุฃูุงู
- ุงููุฑ ุนูู ุฅุดุนุงุฑ ููุงูุชูุงู ููุชูููู
- ุชุญุฏูุซ ุชููุงุฆู ูู 5 ุฏูุงุฆู

## ๐ฏ ุงูููุฒุงุช ุงูุชูููุฉ

### State Management:
```typescript
const [events, setEvents] = useState<Event[]>([]);
const [filteredEvents, setFilteredEvents] = useState<Event[]>([]);
const [selectedDate, setSelectedDate] = useState(new Date());
const [currentMonth, setCurrentMonth] = useState(new Date());
const [filterType, setFilterType] = useState<EventType | "all">("all");
const [filterStatus, setFilterStatus] = useState<"all" | "completed" | "pending">("all");
```

### Real-time Updates:
- ุชุญุฏูุซ ููุฑู ุจุนุฏ ุงูุฅุถุงูุฉ/ุงูุชุนุฏูู/ุงูุญุฐู
- ุฌูุจ ุงูุจูุงูุงุช ูู Supabase ูุน relations
- ุชุญุฏูุซ ุงูุฅุดุนุงุฑุงุช ูู 5 ุฏูุงุฆู

### Responsive Design:
- Grid ูุชุฌุงูุจ ููุฅุญุตุงุฆูุงุช (1-4 ุฃุนูุฏุฉ)
- Grid ูุชุฌุงูุจ ููุฃุญุฏุงุซ ุงููุงุฏูุฉ (1-3 ุฃุนูุฏุฉ)
- ุชูููู ูุนูู ุนูู ุฌููุน ุงูุฃุญุฌุงู
- ููุงุชุฑ ูุชุฌุงูุจุฉ ููููุจุงูู

### Validation:
```typescript
const eventSchema = z.object({
  title: z.string().min(3, "ุงูุนููุงู ูุฌุจ ุฃู ูููู 3 ุฃุญุฑู ุนูู ุงูุฃูู"),
  event_type: z.string(),
  start_time: z.string().min(1, "ููุช ุงูุจุฏุงูุฉ ูุทููุจ"),
  end_time: z.string().min(1, "ููุช ุงูููุงูุฉ ูุทููุจ"),
  // + ุงูุชุญูู ูู end_time > start_time
});
```

## ๐ ุงูุฃูุงู

- **RLS Policies**: ุงููุณุชุฎุฏููู ูุฑูู ุฃุญุฏุงุซูู ููุง ุชู ุชุนูููู ููู
- **Authentication**: ุฌููุน ุงูุนูููุงุช ุชุชุทูุจ ุชุณุฌูู ุฏุฎูู
- **Validation**: ุงูุชุญูู ูู ุงูุจูุงูุงุช ูุจู ุงูุญูุธ
- **Confirmation**: ุชุฃููุฏ ุงูุญุฐู ูููุน ุงูุฃุฎุทุงุก

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

- [ ] **Drag & Drop**: ุณุญุจ ูุฅููุงุช ุงูุฃุญุฏุงุซ ูุชุบููุฑ ุงูุชุงุฑูุฎ
- [ ] **ุชุตุฏูุฑ**: ุชุตุฏูุฑ ุงูุฃุญุฏุงุซ ูู Google Calendar / iCal
- [ ] **ุชุฐููุฑุงุช**: ุฅุฑุณุงู ุชูุจููุงุช ุนุจุฑ ุงูุจุฑูุฏ/ุงููุงุชุณุงุจ
- [ ] **ุฃุญุฏุงุซ ูุชูุฑุฑุฉ**: ุฏุนู ุงูุฃุญุฏุงุซ ุงููุชูุฑุฑุฉ (ูููู/ุฃุณุจูุนู/ุดูุฑู)
- [ ] **ุนุฑุถ ุฃุณุจูุนู**: ุฅุถุงูุฉ View mode ููุฃุณุจูุน ูุงูููู
- [ ] **ูุดุงุฑูุฉ**: ูุดุงุฑูุฉ ุงูุฃุญุฏุงุซ ูุน ุฃุนุถุงุก ุงููุฑูู
- [ ] **ููุงุญุธุงุช ุงูุญุฏุซ**: ุฅุถุงูุฉ ููุงุญุธุงุช ููู ุญุฏุซ
- [ ] **ูุฑููุงุช**: ุฑูุน ูููุงุช ููุฃุญุฏุงุซ
- [ ] **ุชูุงุฑูุฑ**: ุชูุงุฑูุฑ ุนู ุงูุฃุญุฏุงุซ ุงูููุชููุฉ

## โ ุงูุงุฎุชุจุงุฑ

### ูุงุฆูุฉ ุงูุงุฎุชุจุงุฑ:
- [x] ุนุฑุถ ุงูุชูููู ุงูุดูุฑู ุจุดูู ุตุญูุญ
- [x] ุฅุถุงูุฉ ุญุฏุซ ุฌุฏูุฏ
- [x] ุชุนุฏูู ุญุฏุซ ููุฌูุฏ
- [x] ุญุฐู ุญุฏุซ ูุน ุชุฃููุฏ
- [x] ุงูููุชุฑุฉ ุญุณุจ ุงูููุน
- [x] ุงูููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ
- [x] ุงูุชููู ุจูู ุงูุฃุดูุฑ
- [x] ุฒุฑ "ุงูููู" ูุนูู
- [x] ุชูููุฒ ุงูููู ุงูุญุงูู
- [x] ุนุฑุถ ุงูุฃุญุฏุงุซ ุนูู ุงูุชูููู
- [x] ุงูููุฑ ุนูู ุญุฏุซ ููุชุญ ุงูุชูุงุตูู
- [x] ุนุฏุงุฏ "+X ุงููุฒูุฏ" ููุฃูุงู ุงููุฒุฏุญูุฉ
- [x] ุงูุฅุญุตุงุฆูุงุช ุชุญุณุจ ุจุดูู ุตุญูุญ
- [x] ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ
- [x] Badge ุงูุนุฏุงุฏ ุนูู ุฃููููุฉ ุงูุฌุฑุณ
- [x] ุงูููุช ุงููุณุจู (ุจุนุฏ ุณุงุนุฉ/ุบุฏุงู)
- [x] ุงูููุฑ ุนูู ุฅุดุนุงุฑ ูููู ููุชูููู
- [x] ุงูุชุญุฏูุซ ุงูุชููุงุฆู ูู 5 ุฏูุงุฆู
- [x] Validation ููุฃููุงุช (end > start)
- [x] ุญุงูุงุช ุงูุชุญููู ูุงูุฃุฎุทุงุก
- [x] Responsive ุนูู ุฌููุน ุงูุฃุญุฌุงู

## ๐ ููุงุญุธุงุช

1. **ุงูุฅุดุนุงุฑุงุช**: ุชุธูุฑ ุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ ุฎูุงู 7 ุฃูุงู ููุท
2. **ุงูุฃุฏุงุก**: ุฌูุจ ุงูุจูุงูุงุช ูุชู ูุฑุฉ ุนูุฏ ูุชุญ ุงูุตูุญุฉ
3. **ุงูุชูููู**: ูุจุฏุฃ ุงูุฃุณุจูุน ูู ุงูุฃุญุฏ (ูุญูู ุนุฑุจู)
4. **ุงูููุช**: ุฌููุน ุงูุฃููุงุช ุจุชูููุช ุงููุณุชุฎุฏู ุงููุญูู
5. **ุงูุฃููุงู**: ูุชูุงููุฉ ูุน Dark Mode

## ๐ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ุตูุญุฉ ุชูููู ูุงููุฉ ูุน:
- โ ุนุฑุถ ุชูููู ุดูุฑู ุชูุงุนูู
- โ ุฅุฏุงุฑุฉ ูุงููุฉ ููุฃุญุฏุงุซ (CRUD)
- โ ูุธุงู ุฅุดุนุงุฑุงุช ูุชูุงูู
- โ ููุชุฑุฉ ูุจุญุซ ูุชูุฏู
- โ ุชูุงูู ูุน ูุญุฏุฉ Leads
- โ ุชุตููู responsive ูุฌููู
- โ ุชูุซูู ุดุงูู

**ุงูุญุงูุฉ**: โจ ุฌุงูุฒ ููุฅูุชุงุฌ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 13 ุฃูุชูุจุฑ 2025
**ุงูุฅุตุฏุงุฑ**: 1.0.0
